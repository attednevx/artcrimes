<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Art Crimes</title>
  <link rel="stylesheet" href="draw.css">
  <link rel="icon" type="image/png" href="/logos/artcrimes-favicon.png">
</head>
<body>
  <button class="theme-toggle-btn" id="toggleDark" title="Toggle theme">üåô</button>
  <!-- === POPUP MODAL === -->
  <div id="infoPopup" class="info-popup" style="display: flex;">
    <div class="info-popup-content">
      <h2 class="popup-title">Art Crimes</h2>
      <div class="popup-main-content">
        <div class="popup-subtitle">How to play:</div>
        <div class="popup-rules">
          <div>Draw today's topic in the most funniest, weirdest or ugliest way. Use your limitless imagination.</div>
          <div>Use color palette, background, eraser, fill and zoom for your art crime.</div>
          <div>Share your artwork on social media with <b>#ArtCrimesGame</b></div>
          <div>For the best experience we recommend playing on desktop.</div>
        </div>
      </div>
      <div class="popup-social-row">
        <span class="popup-social-label">Follow us:</span>
        <a href="https://reddit.com/r/artcrimes" target="_blank" rel="noopener" class="popup-social-btn" title="Reddit">
          <svg width="22" height="22" viewBox="0 0 512 512" style="vertical-align: middle;">
            <circle cx="256" cy="256" r="256" fill="#FF4500"/>
            <ellipse cx="256" cy="300" rx="115" ry="80" fill="#fff"/>
            <ellipse cx="205" cy="295" rx="20" ry="20" fill="#FF4500"/>
            <ellipse cx="307" cy="295" rx="20" ry="20" fill="#FF4500"/>
            <ellipse cx="256" cy="340" rx="40" ry="18" fill="#fff"/>
            <path d="M214 224c0-23.2 18.8-42 42-42s42 18.8 42 42" stroke="#000" stroke-width="10" fill="none"/>
            <circle cx="400" cy="180" r="30" fill="#fff"/>
            <circle cx="112" cy="180" r="30" fill="#fff"/>
            <circle cx="400" cy="180" r="18" fill="#FF4500"/>
            <circle cx="112" cy="180" r="18" fill="#FF4500"/>
            <circle cx="256" cy="256" r="155" fill="none" stroke="#000" stroke-width="10"/>
          </svg>
        </a>
        <span class="popup-social-sep">|</span>
        <a href="https://x.com/artcrimesgame" target="_blank" rel="noopener" class="popup-social-btn" title="Twitter/X">
          <svg width="22" height="22" viewBox="0 0 40 40" style="vertical-align: middle;">
            <rect width="40" height="40" fill="#000"/>
            <path d="M6 34L18 20 6 6h6l8 9 8-9h6L22 20l12 14h-6l-8-9-8 9H6z" fill="#fff"/>
          </svg>
        </a>
        <span class="popup-social-sep">|</span>
        <a href="https://instagram.com/artcrimesgame" target="_blank" rel="noopener" class="popup-social-btn" title="Instagram">
          <!-- Instagram SVG -->
          <svg width="30" height="30" viewBox="0 0 24 24" fill="#E1306C">
            <path d="M7.75 2h8.5C19.1 2 22 4.9 22 7.75v8.5c0 2.85-2.9 5.75-5.75 5.75h-8.5C4.9 22 2 19.1 2 16.25v-8.5C2 4.9 4.9 2 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5a4.25 4.25 0 0 0 4.25-4.25v-8.5A4.25 4.25 0 0 0 16.25 3.5h-8.5zm4.25 3.25a5.25 5.25 0 1 1 0 10.5 5.25 5.25 0 0 1 0-10.5zm0 1.5a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5zm6.25.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0z"/>
          </svg>
        </a>
      </div>
      <div class="popup-contact-row">
        <span class="popup-contact-label">Contact:</span>
        <a href="mailto:artcrimesgame@gmail.com" class="popup-email-link">artcrimesgame@gmail.com</a>
      </div>
      <div class="popup-disclaimer">
        This website is free to use, at your own risk, and does not collect any personal data.
      </div>
      <button id="closeInfoPopup" class="popup-close-btn">Close</button>
    </div>
  </div>
  <!-- === END POPUP MODAL === -->
  <div class="container">
    <h1 style="margin-top:36px;">Today's topic: <span id="word">...</span></h1>
    <div class="canvas-wrap" id="canvasWrap">
      <canvas id="bg-canvas" width="1200" height="900"></canvas>
      <canvas id="draw-canvas" width="1200" height="900"></canvas>
    </div>
    <div class="canvas-controls-row">
      <div class="zoom-controls">
        <button id="zoomOut" title="Zoom out">‚àí</button>
        <span id="zoomDisplay">100%</span>
        <button id="zoomIn" title="Zoom in">+</button>
        <button id="zoomReset" title="Reset zoom">‚ü≥</button>
      </div>
    </div>
    <div class="pan-instruction">
      üñêÔ∏è <span>To move the canvas while zoomed: hold <b>SPACE</b> and drag with mouse</span>
    </div>
    <div class="pan-instruction">
        <span>To move the canvas while zoomed on mobile: use two fingers</span>
    </div>
    <!-- === PALETTE & BACKGROUND BUTTONS IN THE SAME ROW === -->
    <div class="color-bg-row">
  <label class="color-picker-label" for="openColorPickerSwatch">Color:</label>
  <button id="openColorPickerSwatch" class="swatch selected-swatch"></button>
  <label class="color-picker-label" for="openBgPickerSwatch">Background:</label>
  <button id="openBgPickerSwatch" class="bg-swatch selected-bg-swatch"></button>
</div>
    <!-- === MODALS FOR PALETTE & BACKGROUND === -->
    <div id="colorPickerModal" class="modal hidden">
      <div class="modal-header">
        <span>Choose Brush Color</span>
        <button id="closeColorPicker" class="close-modal-btn">&times;</button>
      </div>
      <div class="palette-row" id="palette-main"></div>
      <div class="palette-row" id="palette-special"></div>
      <label class="custom-color-label" title="Custom color">
        <input type="color" id="customColor"/>
        <span class="custom-color-btn"></span>
      </label>
    </div>
    <div id="bgPickerModal" class="modal hidden">
      <div class="modal-header">
        <span>Choose Background Color</span>
        <button id="closeBgPicker" class="close-modal-btn">&times;</button>
      </div>
      <div class="bg-palette-row" id="bg-palette-main"></div>
      <div class="bg-palette-row" id="bg-palette-special"></div>
      <label class="custom-bg-label" title="Custom background color">
        <input type="color" id="customBgColor"/>
        <span class="custom-bg-btn"></span>
      </label>
      <label class="grid-checkbox-label"><input type="checkbox" id="gridCheckbox"/> Grid</label>
    </div>
    <!-- ==== TOOLS SECTION: Line width + buttons ==== -->
    <div class="tools-section">
      <div class="tools-top-row">
        <label class="line-width-label">
          Line width:
          <input type="range" min="3" max="36" value="12" id="lineWidth">
          <span id="lineWidthValue">12</span> px
        </label>
      </div>
      <div class="tools-btn-row">
        <button id="eraser" class="eraser-btn" title="Eraser"><span class="tool-emoji">üßΩ</span> Eraser</button>
        <button id="fill" class="fill-btn" title="Fill (bucket tool)"><span class="tool-emoji">üé®</span> Fill</button>
        <button id="undo" title="Undo (Ctrl+Z)">‚Ü∂ Undo</button>
        <button id="redo" title="Redo (Ctrl+Y)">‚Ü∑ Redo</button>
        <button id="clear" class="clear-btn" title="Clear">Clear</button>
      </div>
      <div class="tools-bottom-row">
        <label style="margin-left:12px;">
          Fill tolerance: <input type="range" id="fillTolerance" min="0" max="64" value="16">
          <span id="fillToleranceValue">16</span>
        </label>
        <label style="margin-left:12px;">
          Expand fill: <input type="range" id="expandFill" min="0" max="8" value="0">
          <span id="expandFillValue">0</span> px
        </label>
      </div>
    </div>
    <!-- ==== END TOOLS SECTION ==== -->
    <div class="controls">
      <button id="share" class="share-btn-main">Share</button>
    </div>
    <div id="shareModal" class="share-modal" style="display:none;">
      <div class="share-modal-content">
        <h2>Share your artwork</h2>
        <div class="share-icon-row">
          <!-- Twitter, Instagram, Facebook, Reddit, Download -->
          <button class="share-btn" id="shareTwitter" title="Share on Twitter">
            <svg width="30" height="30" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
              <rect width="40" height="40" fill="#000"/>
              <path d="M6 34L18 20 6 6h6l8 9 8-9h6L22 20l12 14h-6l-8-9-8 9H6z" fill="#ddd"/>
            </svg>
          </button>
          <button class="share-btn" id="shareInstagram" title="Share on Instagram">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="#E1306C"><path d="M7.75 2h8.5C19.1 2 22 4.9 22 7.75v8.5c0 2.85-2.9 5.75-5.75 5.75h-8.5C4.9 22 2 19.1 2 16.25v-8.5C2 4.9 4.9 2 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5a4.25 4.25 0 0 0 4.25-4.25v-8.5A4.25 4.25 0 0 0 16.25 3.5h-8.5zm4.25 3.25a5.25 5.25 0 1 1 0 10.5 5.25 5.25 0 0 1 0-10.5zm0 1.5a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5zm6.25.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0z"/></svg>
          </button>
          <button class="share-btn" id="shareFacebook" title="Share on Facebook">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="#4267B2"><path d="M22.675 0h-21.35C.592 0 0 .592 0 1.325v21.351C0 23.407.592 24 1.325 24h11.495v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.797.143v3.24l-1.921.001c-1.505 0-1.797.716-1.797 1.767v2.318h3.587l-.467 3.622h-3.12V24h6.116C23.408 24 24 23.408 24 22.676V1.325C24 .592 23.408 0 22.675 0"/></svg>
          </button>
          <button class="share-btn" id="shareReddit" title="Share on Reddit">
            <svg width="30" height="30" viewBox="0 0 512 512"><circle cx="256" cy="256" r="256" fill="#FF4500"/><ellipse cx="256" cy="300" rx="115" ry="80" fill="#fff"/><ellipse cx="205" cy="295" rx="20" ry="20" fill="#FF4500"/><ellipse cx="307" cy="295" rx="20" ry="20" fill="#FF4500"/><ellipse cx="256" cy="340" rx="40" ry="18" fill="#fff"/><path d="M214 224c0-23.2 18.8-42 42-42s42 18.8 42 42" stroke="#000" stroke-width="10" fill="none"/><circle cx="400" cy="180" r="30" fill="#fff"/><circle cx="112" cy="180" r="30" fill="#fff"/><circle cx="400" cy="180" r="18" fill="#FF4500"/><circle cx="112" cy="180" r="18" fill="#FF4500"/><circle cx="256" cy="256" r="155" fill="none" stroke="#000" stroke-width="10"/></svg>
          </button>
          <button class="share-btn" id="downloadImg" title="Download image">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="#7b60fa"><path d="M12 16.5l4-4h-3V3h-2v9.5H8l4 4zm-8 2V21h16v-2.5H4z"/></svg>
          </button>
        </div>
        <div style="margin-top: 10px;">
          <b>Note:</b> Download the image, then post it on social media.
        </div>
        <button id="closeModal" style="margin-top:15px;">Close</button>
      </div>
    </div>
    <p id="info">Draw your version of the topic above and share your artwork on social media with <b>#ArtCrimesGame</b></p>
  </div>

  <!-- === SITE FOOTER: SOCIALS, CONTACT, FEEDBACK/SUGGESTION === -->
  <footer class="site-footer">
    <div class="footer-social-row">
      <span class="footer-social-label">Follow us:</span>
      <a href="https://reddit.com/r/artcrimes" target="_blank" rel="noopener" class="footer-social-btn" title="Reddit">
        <svg width="22" height="22" viewBox="0 0 512 512"><circle cx="256" cy="256" r="256" fill="#FF4500"/><ellipse cx="256" cy="300" rx="115" ry="80" fill="#fff"/><ellipse cx="205" cy="295" rx="20" ry="20" fill="#FF4500"/><ellipse cx="307" cy="295" rx="20" ry="20" fill="#FF4500"/><ellipse cx="256" cy="340" rx="40" ry="18" fill="#fff"/><path d="M214 224c0-23.2 18.8-42 42-42s42 18.8 42 42" stroke="#000" stroke-width="10" fill="none"/><circle cx="400" cy="180" r="30" fill="#fff"/><circle cx="112" cy="180" r="30" fill="#fff"/><circle cx="400" cy="180" r="18" fill="#FF4500"/><circle cx="112" cy="180" r="18" fill="#FF4500"/><circle cx="256" cy="256" r="155" fill="none" stroke="#000" stroke-width="10"/></svg>
      </a>
      <span class="footer-social-sep">|</span>
      <a href="https://x.com/artcrimesgame" target="_blank" rel="noopener" class="footer-social-btn" title="Twitter/X">
        <svg width="22" height="22" viewBox="0 0 40 40"><rect width="40" height="40" fill="#000"/><path d="M6 34L18 20 6 6h6l8 9 8-9h6L22 20l12 14h-6l-8-9-8 9H6z" fill="#fff"/></svg>
      </a>
      <span class="footer-social-sep">|</span>
      <a href="https://instagram.com/artcrimesgame" target="_blank" rel="noopener" class="footer-social-btn" title="Instagram">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="#E1306C"><path d="M7.75 2h8.5C19.1 2 22 4.9 22 7.75v8.5c0 2.85-2.9 5.75-5.75 5.75h-8.5C4.9 22 2 19.1 2 16.25v-8.5C2 4.9 4.9 2 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5a4.25 4.25 0 0 0 4.25-4.25v-8.5A4.25 4.25 0 0 0 16.25 3.5h-8.5zm4.25 3.25a5.25 5.25 0 1 1 0 10.5 5.25 5.25 0 0 1 0-10.5zm0 1.5a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5zm6.25.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0z"/></svg>
      </a>
    </div>
    <div class="footer-contact-row">
      <span class="footer-contact-label">Contact:</span>
      <a href="mailto:artcrimesgame@gmail.com" class="footer-email-link">artcrimesgame@gmail.com</a>
      <span class="footer-contact-sep">|</span>
      <span class="footer-feedback-label">Feedback/Suggestion:</span>
      <a href="mailto:artcrimesfeedback@gmail.com" class="footer-email-link">artcrimesfeedback@gmail.com</a>
    </div>
    <div class="footer-branding-row">
      <span class="footer-copyright">
        ¬© 2025 Art Crimes. All rights reserved.
      </span>
    </div>
  </footer>
  <!-- === END SITE FOOTER === -->

  <!-- TEMA I JS SKRIPTE, ISPRAVNO UCITANE -->
  <script src="theme/theme.js"></script>
  <script src="draw.js"></script>
  <script type="module">
    import { getTodaysTheme } from './themes.js';

    window.addEventListener('DOMContentLoaded', () => {
      const theme = getTodaysTheme();
      document.getElementById('word').textContent = theme;
    });
  </script>
</body>
</html>
